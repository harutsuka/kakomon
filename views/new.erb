<div>
    <form method="post" action="/new" enctype="multipart/form-data" class="newpost">
        <button type="submit" id="share">シェアする</button>
        <p class="drag-drop-buttons">
            <input id="input" type="file" accept="image/*" value="ファイルを選択" name="upload_photo" onChange="photoPreview(event)">
        </p>
        <figure id="figure" style="display:none;">
            <img id="figureImage" src="" alt="Image Preview" style="max-width: 100%"/>
        </figure>
    </form>
</div>

<%# <script>
    const input = document.querySelector('#input')
    const figure = document.querySelector('#figure')
    const figureImage = document.querySelector('#figureImage')
  
    input.addEventListener('change', (event) => {
      const [file] = event.target.files
  
      if (file) {
        figureImage.setAttribute('src', URL.createObjectURL(file))
        figure.style.display = 'block'
      } else {
        figure.style.display = 'none'
      }
    })
</script> %>
